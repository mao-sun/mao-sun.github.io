<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>我对旅行攻略 - @Mao </title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Segoe UI', 'Microsoft YaHei', sans-serif; }
        
        body { 
            background: linear-gradient(135deg, #f5f7fa 0%, #e8ecf1 100%); 
            color: #333; line-height: 1.6; padding: 15px; min-height: 100vh; 
        }
        
        .container { max-width: 1200px; margin: 0 auto; padding: 0 10px; }
        
        header { 
            text-align: center; padding: 30px 15px; margin-bottom: 30px; 
            background: linear-gradient(135deg, #4b6cb7 0%, #182848 100%); 
            color: white; border-radius: 15px; box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15); 
            position: relative; overflow: hidden; 
            animation: gradientShift 12s ease infinite; background-size: 200% 200%; 
        }
        
        @keyframes gradientShift { 
            0% { background-position: 0% 50%; } 
            50% { background-position: 100% 50%; } 
            100% { background-position: 0% 50%; } 
        }
        
        h1 { font-size: 2.5rem; margin-bottom: 12px; text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3); }
        .subtitle { font-size: 1.2rem; opacity: 0.9; max-width: 700px; margin: 0 auto; }
        
        .search-container { 
            max-width: 700px; margin: 25px auto 40px; position: relative; 
            display: flex; align-items: center; 
        }
        
        .search-box { 
            width: 100%; padding: 16px 60px 16px 55px; border: none; border-radius: 50px; 
            font-size: 1.1rem; box-shadow: 0 6px 18px rgba(0, 0, 0, 0.12); transition: all 0.3s ease; 
            background: rgba(255, 255, 255, 0.95); height: 55px; 
        }
        
        .search-box:focus { 
            outline: none; box-shadow: 0 6px 22px rgba(0, 0, 0, 0.2); transform: scale(1.02); 
        }
        
        .search-icon { 
            position: absolute; left: 22px; top: 50%; transform: translateY(-50%); 
            color: #6c757d; font-size: 1.3rem; 
        }
        
        .search-btn { 
            position: absolute; right: 12px; background: #4b6cb7; color: white; border: none; 
            border-radius: 50%; width: 42px; height: 42px; cursor: pointer; transition: all 0.3s ease; 
            display: flex; align-items: center; justify-content: center; 
        }
        
        .search-btn:hover { background: #3a5ba0; transform: scale(1.1); }
        
        .suggestions-container { 
            position: absolute; top: 100%; left: 0; right: 0; background: white; 
            border-radius: 10px; box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15); 
            max-height: 300px; overflow-y: auto; z-index: 1000; margin-top: 5px; display: none; 
        }
        
        .suggestion-item { 
            padding: 12px 20px; cursor: pointer; display: flex; justify-content: space-between; 
            align-items: center; transition: background 0.2s; border-bottom: 1px solid #f0f0f0; 
        }
        
        .suggestion-item:hover { background-color: #f5f8ff; }
        .suggestion-name { font-weight: 600; }
        .suggestion-en { font-style: italic; color: #6c757d; font-size: 0.9rem; }
        .highlight-text { 
            background-color: #ffeaa7; color: #d35400; padding: 0 2px; border-radius: 3px; 
        }
        
        .region-section { 
            margin-bottom: 50px; background: white; border-radius: 18px; overflow: hidden; 
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.1); transition: transform 0.3s ease; width: 100%; 
        }
        
        .region-section:hover { 
            transform: translateY(-5px); box-shadow: 0 15px 45px rgba(0, 0, 0, 0.15); 
        }
        
        .card-header { 
            padding: 25px; color: white; text-align: center; font-size: 1.8rem; 
            display: flex; justify-content: center; 
        }
        
        .card-header h2 { width: 100%; text-align: center; }
        .china-header { background: linear-gradient(135deg, #e44d26 0%, #f16529 100%); }
        .international-header { background: linear-gradient(135deg, #2193b0 0%, #6dd5ed 100%); }
        
        .card-content { padding: 25px 20px; }
        h3 { 
            margin-bottom: 20px; font-size: 1.4rem; color: #2c3e50; border-bottom: 2px solid #f0f3f5; 
            padding-bottom: 10px; display: flex; align-items: center; 
        }
        
        h3 i { margin-right: 12px; color: #3498db; }
        
        .area-grid, .region-content { 
            display: grid; grid-template-columns: repeat(auto-fill, minmax(160px, 1fr)); 
            gap: 16px; 
        }
        
        .area-item { 
            padding: 14px; background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%); 
            border-radius: 10px; cursor: pointer; transition: all 0.25s ease; 
            display: flex; flex-direction: column; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05); 
            border: 1px solid #eaeaea; height: 100%; justify-content: center; align-items: center; 
            text-align: center; min-height: 65px; 
        }
        
        .area-item:hover { 
            background: linear-gradient(135deg, #e9ecef 0%, #dee2e6 100%); 
            transform: translateY(-4px); box-shadow: 0 6px 18px rgba(0, 0, 0, 0.08); 
        }
        
        .area-item span { font-size: 1.1rem; }
        .country-name { font-weight: 700; color: #2980b9; }
        .country-en { font-size: 0.9rem; color: #6c757d; font-style: italic; margin-top: 4px; }
        
        .region-header { 
            background: linear-gradient(135deg, #e3f2fd 0%, #d1e7ff 100%); padding: 14px 18px; 
            border-radius: 10px; margin-top: 25px; margin-bottom: 12px; font-weight: bold; 
            display: flex; align-items: center; cursor: pointer; transition: all 0.25s ease; 
            font-size: 1.2rem; box-shadow: 0 3px 8px rgba(0, 0, 0, 0.04); 
        }
        
        .region-header:hover { 
            background: linear-gradient(135deg, #bbdefb 0%, #a6d4fa 100%); transform: translateX(4px); 
        }
        
        .region-header i { margin-right: 12px; transition: transform 0.3s ease; }
        .region-header.collapsed i { transform: rotate(-90deg); }
        .region-content.collapsed { display: none; }
        
        footer { 
            text-align: center; padding: 25px; color: #6c757d; font-size: 0.95rem; margin-top: 25px; 
            background: rgba(255, 255, 255, 0.8); border-radius: 18px; box-shadow: 0 4px 15px rgba(0, 0, 0, 0.04); 
            max-width: 1200px; margin-left: auto; margin-right: auto; 
        }
        
        .highlight { 
            background: linear-gradient(135deg, #ffeaa7 0%, #ffd43b 100%) !important; 
            box-shadow: 0 0 12px rgba(255, 212, 59, 0.7) !important; 
            animation: pulse 1.5s 3; border: 1px solid #ffd43b; 
        }
        
        .match-highlight {
            background: linear-gradient(135deg, #e3f2fd 0%, #bbdefb 100%) !important;
            box-shadow: 0 0 8px rgba(59, 130, 246, 0.4) !important;
            border: 1px solid #3b82f6;
        }
        
        @keyframes pulse { 
            0% { transform: scale(1); } 
            50% { transform: scale(1.03); } 
            100% { transform: scale(1); } 
        }
        
        .region-intro { 
            text-align: center; max-width: 800px; margin: 0 auto 25px; 
            font-size: 1rem; color: #495057; line-height: 1.7; 
        }
        
        .map-icon { font-size: 2.5rem; margin-bottom: 15px; color: #ff6b6b; }
        .vertical-region-list { display: flex; flex-direction: column; gap: 12px; }
        
        .back-to-top { 
            position: fixed; bottom: 25px; right: 25px; background: #4b6cb7; color: white; 
            width: 45px; height: 45px; border-radius: 50%; display: flex; align-items: center; 
            justify-content: center; cursor: pointer; transition: all 0.3s ease; 
            box-shadow: 0 3px 12px rgba(0, 0, 0, 0.15); z-index: 1000; 
            opacity: 0; transform: translateY(100px); 
        }
        
        .back-to-top.visible { opacity: 1; transform: translateY(0); }
        .back-to-top:hover { background: #3a5ba0; transform: scale(1.1); }
        
        /* 日本分行样式 */
        .japan-container {
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        /* 移动设备优化 */
        @media (max-width: 768px) {
            body { padding: 10px; }
            h1 { font-size: 2rem; }
            .subtitle { font-size: 1.05rem; padding: 0 10px; }
            .search-box { padding: 14px 50px 14px 45px; font-size: 1rem; height: 50px; }
            .card-header { font-size: 1.5rem; padding: 20px; }
            .search-icon { left: 18px; font-size: 1.2rem; }
            .search-btn { width: 38px; height: 38px; right: 8px; font-size: 0.9rem; }
            .card-content { padding: 20px 15px; }
            h3 { font-size: 1.25rem; margin-bottom: 15px; }
            .area-grid, .region-content { grid-template-columns: repeat(auto-fill, minmax(140px, 1fr)); gap: 12px; }
            .area-item { padding: 12px; min-height: 60px; }
            .area-item span { font-size: 1rem; }
            .country-name { font-size: 1rem; }
            .country-en { font-size: 0.8rem; }
            .region-header { padding: 12px 16px; font-size: 1.1rem; }
            .region-intro { font-size: 0.95rem; margin-bottom: 20px; }
            .map-icon { font-size: 2rem; }
            .back-to-top { bottom: 15px; right: 15px; width: 40px; height: 40px; font-size: 0.9rem; }
            footer { padding: 20px; font-size: 0.9rem; }
            .suggestion-item { padding: 10px 15px; flex-direction: column; align-items: flex-start; }
            .suggestion-en { margin-top: 5px; font-size: 0.85rem; }
        }
        
        @media (max-width: 480px) {
            h1 { font-size: 1.8rem; }
            .subtitle { font-size: 0.95rem; }
            .search-container { margin: 20px auto 30px; }
            .search-box { padding: 12px 45px 12px 40px; height: 48px; font-size: 0.95rem; }
            .search-icon { left: 15px; font-size: 1.1rem; }
            .card-header { font-size: 1.4rem; padding: 18px; }
            .area-grid, .region-content { grid-template-columns: repeat(auto-fill, minmax(130px, 1fr)); gap: 10px; }
            .area-item { padding: 10px 8px; min-height: 55px; }
            .area-item span { font-size: 0.95rem; }
            .region-header { padding: 10px 14px; font-size: 1rem; }
            h3 { font-size: 1.15rem; }
            .country-name { font-size: 0.95rem; }
            .country-en { font-size: 0.75rem; }
            .region-intro { font-size: 0.9rem; margin-bottom: 15px; }
            footer { padding: 15px; font-size: 0.85rem; }
        }
        
        @media (max-width: 360px) {
            .area-grid, .region-content { grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); }
            .search-box { padding: 10px 40px 10px 35px; height: 46px; font-size: 0.9rem; }
        }
        
        /* 触摸屏优化 */
        .area-item:active { transform: scale(0.98); }
        .region-header:active { transform: translateX(4px) scale(0.98); }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1><i class="fas fa-globe-asia"></i> 我对旅行攻略</h1>
            <p class="subtitle">一起走过世界 - 快速找到与你的旅行</p>
        </header>

        <div class="search-container">
            <i class="fas fa-search search-icon"></i>
            <input type="text" class="search-box" id="searchInput" placeholder="搜索省份、国家或地区...">
            <button class="search-btn" id="searchButton">
                <i class="fas fa-search"></i>
            </button>
            <div class="suggestions-container" id="suggestionsContainer"></div>
        </div>
        
        <!-- 中国区域部分 -->
        <div class="region-section">
            <div class="card-header china-header">
                <h2>中国</h2>
            </div>
            <div class="card-content">
                <div class="region-intro">
                    <div class="map-icon">
                        <i class="fas fa-map-marked-alt"></i>
                    </div>
                    <p>中国拥有丰富的自然景观和悠久的历史文化，从壮丽的山河到现代化的都市，从古老的文明到多元的民族风情，探索这片神奇的土地，开启一段难忘的旅程。</p>
                </div>
                
                <h3><i class="fas fa-layer-group"></i> 按区域浏览</h3>
                
                <div class="vertical-region-list">
                    <!-- 地区列表 -->
                    <div class="region-header" data-region="northChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>华北地区</span>
                    </div>
                    <div class="region-content" id="northChinaContent"></div>
                    
                    <div class="region-header" data-region="northeastChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>东北地区</span>
                    </div>
                    <div class="region-content" id="northeastChinaContent"></div>
                    
                    <div class="region-header" data-region="eastChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>华东地区</span>
                    </div>
                    <div class="region-content" id="eastChinaContent"></div>
                    
                    <div class="region-header" data-region="centralChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>华中地区</span>
                    </div>
                    <div class="region-content" id="centralChinaContent"></div>
                    
                    <div class="region-header" data-region="southChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>华南地区</span>
                    </div>
                    <div class="region-content" id="southChinaContent"></div>
                    
                    <div class="region-header" data-region="southwestChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>西南地区</span>
                    </div>
                    <div class="region-content" id="southwestChinaContent"></div>
                    
                    <div class="region-header" data-region="northwestChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>西北地区</span>
                    </div>
                    <div class="region-content" id="northwestChinaContent"></div>
                    
                    <div class="region-header" data-region="hmtChina">
                        <i class="fas fa-chevron-down"></i>
                        <span>港澳台地区</span>
                    </div>
                    <div class="region-content" id="hmtChinaContent"></div>
                </div>
            </div>
        </div>
        
        <!-- 境外区域部分 -->
        <div class="region-section">
            <div class="card-header international-header">
                <h2>境外及港澳台</h2>
            </div>
            <div class="card-content">
                <div class="region-intro">
                    <div class="map-icon">
                        <i class="fas fa-passport"></i>
                    </div>
                    <p>探索世界各地的异国风情，从古老的历史遗迹到现代都市风光，从热带雨林到极地冰川，让每一次旅行都成为一次难忘的冒险。</p>
                </div>
                
                <h3><i class="fas fa-globe"></i> 按大洲浏览（仅展示部分国家和地区）</h3>
                
                <div class="vertical-region-list">
                    <!-- 大洲列表 -->
                    <div class="region-header" data-region="asia">
                        <i class="fas fa-chevron-down"></i>
                        <span>亚洲 (Asia)</span>
                    </div>
                    <div class="region-content" id="asiaContent"></div>
                    
                    <div class="region-header" data-region="europe">
                        <i class="fas fa-chevron-down"></i>
                        <span>欧洲 (Europe)</span>
                    </div>
                    <div class="region-content" id="europeContent"></div>
                    
                    <div class="region-header" data-region="northAmerica">
                        <i class="fas fa-chevron-down"></i>
                        <span>北美洲 (North America)</span>
                    </div>
                    <div class="region-content" id="northAmericaContent"></div>
                    
                    <div class="region-header" data-region="southAmerica">
                        <i class="fas fa-chevron-down"></i>
                        <span>南美洲 (South America)</span>
                    </div>
                    <div class="region-content" id="southAmericaContent"></div>
                    
                    <div class="region-header" data-region="oceania">
                        <i class="fas fa-chevron-down"></i>
                        <span>大洋洲 (Oceania)</span>
                    </div>
                    <div class="region-content" id="oceaniaContent"></div>
                    
                    <div class="region-header" data-region="africa">
                        <i class="fas fa-chevron-down"></i>
                        <span>非洲 (Africa)</span>
                    </div>
                    <div class="region-content" id="africaContent"></div>
                </div>
            </div>
        </div>
        
        <footer>
            <p>© 2025 环球旅行攻略 | 探索世界，分享旅程</p>
            <p><i class="fas fa-sync-alt"></i> 数据由个人整理 | <i class="fas fa-heart"></i> 让旅行改变生活</p>
            <p>本站所有内容均来自网络 | 如有侵权电邮 mao.sun@foxmail.com</p>
        </footer>
    </div>

    <!-- 回到顶部按钮 -->
    <div class="back-to-top" id="backToTop">
        <i class="fas fa-arrow-up"></i>
    </div>

    <script>
        // 中国省份按区域划分
        const chinaRegions = {
            northChina: ["北京市", "天津市", "河北省", "山西省", "内蒙古自治区"],
            northeastChina: ["辽宁省", "吉林省", "黑龙江省"],
            eastChina: ["上海市", "江苏省", "浙江省", "安徽省", "福建省", "江西省", "山东省"],
            centralChina: ["河南省", "湖北省", "湖南省"],
            southChina: ["广东省", "广西壮族自治区", "海南省"],
            southwestChina: ["重庆市", "四川省", "贵州省", "云南省", "西藏自治区"],
            northwestChina: ["陕西省", "甘肃省", "青海省", "宁夏回族自治区", "新疆维吾尔自治区"],
            hmtChina: ["香港特别行政区", "澳门特别行政区", "台湾省"]
        };

        // 境外国家数据（按大洲分类）
        const countries = {
            asia: [
                {name: "日本", en: "Japan"},
                {name: "韩国", en: "South Korea"},
                {name: "越南", en: "Vietnam"},
                {name: "泰国", en: "Thailand"},
                {name: "新加坡", en: "Singapore"},
                {name: "马来西亚", en: "Malaysia"},
                {name: "印度尼西亚", en: "Indonesia"},
                {name: "菲律宾", en: "Philippines"},
                {name: "柬埔寨", en: "Cambodia"},
                {name: "老挝", en: "Laos"},
                {name: "缅甸", en: "Myanmar"},
                {name: "印度", en: "India"},
                {name: "尼泊尔", en: "Nepal"},
                {name: "斯里兰卡", en: "Sri Lanka"},
                {name: "马尔代夫", en: "Maldives"},
                {name: "阿联酋", en: "United Arab Emirates"},
                {name: "土耳其", en: "Turkey"},
                {name: "中国香港", en: "Hong Kong, China"},
                {name: "中国澳门", en: "Macao, China"},
                {name: "中国台湾", en: "Taiwan, China"}
            ],
            europe: [
                {name: "英国", en: "United Kingdom"},
                {name: "法国", en: "France"},
                {name: "德国", en: "Germany"},
                {name: "意大利", en: "Italy"},
                {name: "西班牙", en: "Spain"},
                {name: "葡萄牙", en: "Portugal"},
                {name: "荷兰", en: "Netherlands"},
                {name: "比利时", en: "Belgium"},
                {name: "瑞士", en: "Switzerland"},
                {name: "奥地利", en: "Austria"},
                {name: "希腊", en: "Greece"},
                {name: "冰岛", en: "Iceland"},
                {name: "挪威", en: "Norway"},
                {name: "瑞典", en: "Sweden"},
                {name: "丹麦", en: "Denmark"},
                {name: "芬兰", en: "Finland"},
                {name: "俄罗斯", en: "Russia"},
                {name: "捷克", en: "Czech Republic"},
                {name: "匈牙利", en: "Hungary"},
                {name: "波兰", en: "Poland"}
            ],
            northAmerica: [
                {name: "美国", en: "United States"},
                {name: "加拿大", en: "Canada"},
                {name: "墨西哥", en: "Mexico"},
                {name: "古巴", en: "Cuba"},
                {name: "哥斯达黎加", en: "Costa Rica"},
                {name: "巴拿马", en: "Panama"}
            ],
            southAmerica: [
                {name: "巴西", en: "Brazil"},
                {name: "阿根廷", en: "Argentina"},
                {name: "智利", en: "Chile"},
                {name: "秘鲁", en: "Peru"},
                {name: "哥伦比亚", en: "Colombia"},
                {name: "厄瓜多尔", en: "Ecuador"},
                {name: "玻利维亚", en: "Bolivia"},
                {name: "乌拉圭", en: "Uruguay"},
                {name: "巴拉圭", en: "Paraguay"},
                {name: "委内瑞拉", en: "Venezuela"}
            ],
            oceania: [
                {name: "澳大利亚", en: "Australia"},
                {name: "新西兰", en: "New Zealand"},
                {name: "斐济", en: "Fiji"},
                {name: "萨摩亚", en: "Samoa"},
                {name: "汤加", en: "Tonga"}
            ],
            africa: [
                {name: "埃及", en: "Egypt"},
                {name: "南非", en: "South Africa"},
                {name: "肯尼亚", en: "Kenya"},
                {name: "摩洛哥", en: "Morocco"},
                {name: "坦桑尼亚", en: "Tanzania"}
            ]
        };

        // 所有目的地数据集合（用于搜索建议）
        let allDestinations = [];
        
        // 高亮匹配文本
        function highlightMatch(text, query) {
            if (!query) return text;
            const regex = new RegExp(`(${query})`, 'gi');
            return text.replace(regex, '<span class="highlight-text">$1</span>');
        }

        // 初始化页面内容
        function initPage() {
            // 渲染中国区域省份
            for (const region in chinaRegions) {
                const contentElement = document.getElementById(`${region}Content`);
                if (contentElement) {
                    chinaRegions[region].forEach(province => {
                        const item = document.createElement('div');
                        item.className = 'area-item';
                        
                        // 特别处理链接
                        if (province === "北京市") {
                            item.innerHTML = `<a href="North China-Beijing.html" style="text-decoration: none; color: inherit;"><span>${province}</span></a>`;
                        } else if (province === "香港特别行政区") {
                            item.innerHTML = `<a href="China-HongKong.html" style="text-decoration: none; color: inherit;"><span>${province}</span></a>`;
                        } else {
                            item.innerHTML = `<span>${province}</span>`;
                        }
                        
                        item.dataset.name = province;
                        contentElement.appendChild(item);
                        
                        // 添加到所有目的地集合（跳过境内港澳台）
                        if (!["香港特别行政区", "澳门特别行政区", "台湾省"].includes(province)) {
                            allDestinations.push({
                                name: province,
                                en: null,
                                type: 'china',
                                element: item
                            });
                        }
                    });
                }
            }

            // 渲染各大洲国家
            for (const continent in countries) {
                const contentElement = document.getElementById(`${continent}Content`);
                if (contentElement) {
                    countries[continent].forEach(country => {
                        const countryElement = document.createElement('div');
                        countryElement.className = 'area-item';

                        // 日本特殊处理（分行显示）
                        if (country.name === "日本") {
                            countryElement.innerHTML = `
                                <div class="japan-container">
                                    <a href="Asia-Japan.html" style="text-decoration: none; color: inherit;">
                                        <span class="country-name">${country.name}</span>
                                        <span class="country-en">${country.en}</span>
                                    </a>
                                </div>
                            `;
                        } else if (country.name === "中国香港") {
                            countryElement.innerHTML = `
                                <a href="China-HongKong.html" style="text-decoration: none; color: inherit;">
                                    <span class="country-name">${country.name}</span>
                                    <span class="country-en">${country.en}</span>
                                </a>
                            `;
                        } else {
                            countryElement.innerHTML = `
                                <span class="country-name">${country.name}</span>
                                <span class="country-en">${country.en}</span>
                            `;
                        }
                        
                        countryElement.dataset.name = `${country.name}|${country.en}`;
                        contentElement.appendChild(countryElement);
                        
                        // 添加到所有目的地集合
                        allDestinations.push({
                            name: country.name,
                            en: country.en,
                            type: 'international',
                            element: countryElement
                        });
                    });
                }
            }

            // 添加事件监听器
            addEventListeners();
            // 初始化折叠状态
            initCollapseState();
        }

        // 初始化折叠状态
        function initCollapseState() {
            document.querySelectorAll('.region-header').forEach(header => {
                header.classList.add('collapsed');
                const content = document.getElementById(`${header.dataset.region}Content`);
                if (content) {
                    content.classList.add('collapsed');
                    const icon = header.querySelector('i');
                    if (header.classList.contains('collapsed')) {
                        icon.style.transform = 'rotate(-90deg)';
                    }
                }
            });
        }

        // 展开区域
        function expandRegion(element) {
            // 找到最近的区域内容
            let regionContent = element.closest('.region-content');
            if (!regionContent) return;
            
            // 找到对应的区域标题
            const regionId = regionContent.id.replace('Content', '');
            const regionHeader = document.querySelector(`.region-header[data-region="${regionId}"]`);
            
            if (regionHeader && regionHeader.classList.contains('collapsed')) {
                // 展开区域
                regionHeader.classList.remove('collapsed');
                regionContent.classList.remove('collapsed');
                
                // 更新图标方向
                const icon = regionHeader.querySelector('i');
                icon.style.transform = 'rotate(0deg)';
            }
        }

        // 清除所有高亮
        function clearAllHighlights() {
            document.querySelectorAll('.highlight').forEach(el => {
                el.classList.remove('highlight');
            });
            document.querySelectorAll('.match-highlight').forEach(el => {
                el.classList.remove('match-highlight');
            });
        }

        // 添加事件监听器
        function addEventListeners() {
            const searchInput = document.getElementById('searchInput');
            const searchButton = document.getElementById('searchButton');
            const suggestionsContainer = document.getElementById('suggestionsContainer');
            
            // 输入时显示搜索建议并高亮匹配项
            searchInput.addEventListener('input', function() {
                const query = this.value.trim().toLowerCase();
                suggestionsContainer.innerHTML = '';
                
                if (query.length === 0) {
                    suggestionsContainer.style.display = 'none';
                    // 清除所有匹配高亮
                    document.querySelectorAll('.match-highlight').forEach(el => {
                        el.classList.remove('match-highlight');
                    });
                    return;
                }
                
                // 过滤匹配的目的地
                const matches = allDestinations.filter(dest => {
                    return (
                        (dest.name && dest.name.toLowerCase().includes(query)) ||
                        (dest.en && dest.en.toLowerCase().includes(query))
                    );
                });
                
                // 显示建议
                if (matches.length > 0) {
                    matches.forEach(dest => {
                        const suggestion = document.createElement('div');
                        suggestion.className = 'suggestion-item';
                        
                        // 高亮匹配文本
                        const highlightedName = highlightMatch(dest.name, query);
                        let highlightedEn = '';
                        
                        if (dest.en) {
                            highlightedEn = highlightMatch(dest.en, query);
                        }
                        
                        suggestion.innerHTML = `
                            <div class="suggestion-name">${highlightedName}</div>
                            ${dest.en ? `<div class="suggestion-en">${highlightedEn}</div>` : ''}
                        `;
                        
                        suggestion.addEventListener('click', function() {
                            // 设置搜索框内容
                            searchInput.value = dest.name;
                            
                            // 清除所有高亮
                            clearAllHighlights();
                            
                            // 添加高亮
                            dest.element.classList.add('highlight');
                            
                            // 展开所在区域
                            expandRegion(dest.element);
                            
                            // 滚动到该元素
                            scrollToElement(dest.element);
                            
                            // 3秒后移除高亮
                            setTimeout(() => {
                                dest.element.classList.remove('highlight');
                            }, 3000);
                            
                            // 隐藏建议框
                            suggestionsContainer.style.display = 'none';
                        });
                        
                        suggestionsContainer.appendChild(suggestion);
                    });
                    
                    suggestionsContainer.style.display = 'block';
                } else {
                    suggestionsContainer.style.display = 'none';
                }
                
                // 高亮所有匹配项
                document.querySelectorAll('.match-highlight').forEach(el => {
                    el.classList.remove('match-highlight');
                });
                
                matches.forEach(dest => {
                    dest.element.classList.add('match-highlight');
                });
            });
            
            // 点击其他地方关闭建议框
            document.addEventListener('click', function(e) {
                if (!searchInput.contains(e.target) && 
                    !suggestionsContainer.contains(e.target) &&
                    !searchButton.contains(e.target)) {
                    suggestionsContainer.style.display = 'none';
                }
            });
            
            // 区域折叠/展开功能
            document.querySelectorAll('.region-header').forEach(header => {
                header.addEventListener('click', function() {
                    const content = document.getElementById(`${this.dataset.region}Content`);
                    if (!content) return;
                    
                    // 切换折叠状态
                    this.classList.toggle('collapsed');
                    content.classList.toggle('collapsed');
                    
                    // 更新图标方向
                    const icon = this.querySelector('i');
                    if (this.classList.contains('collapsed')) {
                        icon.style.transform = 'rotate(-90deg)';
                    } else {
                        icon.style.transform = 'rotate(0deg)';
                    }
                });
            });

            // 搜索功能
            searchButton.addEventListener('click', performSearch);
            
            // 回车键搜索事件
            searchInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    performSearch();
                }
            });
            
            // 回到顶部按钮事件
            const backToTopBtn = document.getElementById('backToTop');
            backToTopBtn.addEventListener('click', scrollToTop);
            
            // 滚动时显示/隐藏回到顶部按钮
            window.addEventListener('scroll', function() {
                if (window.scrollY > 500) {
                    backToTopBtn.classList.add('visible');
                } else {
                    backToTopBtn.classList.remove('visible');
                }
            });
        }
        
        // 执行搜索（跳转）
        function performSearch() {
            const query = document.getElementById('searchInput').value.trim();
            if (!query) return;
            
            // 隐藏建议框
            document.getElementById('suggestionsContainer').style.display = 'none';
            
            // 处理港澳台简称
            const keywordMap = {
                "香港": "中国香港",
                "澳门": "中国澳门",
                "台湾": "中国台湾"
            };
            
            const searchQuery = keywordMap[query] || query;
            
            // 检查是否匹配某个项目
            const match = allDestinations.find(dest => {
                return (
                    (dest.name && dest.name.toLowerCase() === searchQuery.toLowerCase()) ||
                    (dest.en && dest.en.toLowerCase() === searchQuery.toLowerCase())
                );
            });
            
            if (match) {
                // 清除所有高亮
                clearAllHighlights();
                
                // 添加高亮
                match.element.classList.add('highlight');
                
                // 展开所在区域
                expandRegion(match.element);
                
                // 滚动到该元素
                scrollToElement(match.element);
                
                // 3秒后移除高亮
                setTimeout(() => {
                    match.element.classList.remove('highlight');
                }, 3000);
            } else {
                // 没有匹配项，显示提示
                alert(`没有找到与 "${query}" 匹配的目的地。请尝试从下拉列表中选择一个目的地。`);
            }
        }

        // 滚动到元素位置
        function scrollToElement(element) {
            element.scrollIntoView({ 
                behavior: 'smooth', 
                block: 'center',
                inline: 'nearest'
            });
        }
        
        // 滚动到顶部
        function scrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // 页面加载完成后初始化
        document.addEventListener('DOMContentLoaded', initPage);
    </script>
</body>
</html>
